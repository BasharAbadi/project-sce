<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile</title>
    <link rel="stylesheet" href="styles/customer-profile.css">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@200;400;600;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header Section -->
    <header>
        <div class="logo">
            <img src="images/IMG_6583.png" alt="RenovaCalc Logo">
        </div>
        <div class="header-content">
            <nav>
                <a href="homepage-customer.html">Home</a>
                <a href="products.html">My Products</a>
                <a href="about.html">About Us</a>
            </nav>
        
        <div class="profile-menu">
            <img src="images/avatar-logo.jpg" width="50" onclick="toggleMenu()" />
            <div class="sub-menu-wrap" id="subMenu">
              <div class="sub-menu">
                <div class="user-info">
                  <img src="images/avatar-logo.jpg" />
                  <p><strong>Username:</strong> <span id="usernameProfile"></span></p>
                </div>
                <hr />
                <a href="customer-profile.html" class="sub-menu-link">
                  <img src="images/profile images/profile.png" />
                  <p>Edit Profile</p>
                  <span>></span>
                </a>
                <a href="" class="sub-menu-link">
                  <img src="images/profile images/setting.png" />
                  <p>Settings</p>
                  <span>></span>
                </a>
                <a href="" class="sub-menu-link">
                  <img src="images/profile images/help.png" />
                  <p>help</p>
                  <span>></span>
                </a>
                <a href="main_page.html" class="sub-menu-link" onclick="logout()">
                  <img src="images/profile images/logout.png" />
                  <p>Logout</p>
                  <span>></span>
                </a>
              </div>
            </div>
          </div>
        </div>
        
    </header>
    

    <!-- Main Content -->
    <main>
        <section class="profile-container">
            <h1>My Profile</h1>
            <div class="profile-card">
                <p><strong>Username:</strong> <span id="username"></span></p>
                <p><strong>Email:</strong> <span id="email"></span></p>
                <p><strong>Account Type:</strong> <span id="accountType"></span></p>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <p>&copy; 2024 RenovaCalc. All rights reserved.</p>
    </footer>

    <!-- Script Section -->
    <script>
        // קבלת פרטי המשתמש מה-Local Storage
        const email = localStorage.getItem('email');
        const username = localStorage.getItem('username') || "Guest";
        const accountType = localStorage.getItem('accountType') || "Customer";


        // הצגת הנתונים בדף
        document.getElementById('email').innerText = email;
        document.getElementById('username').innerText = username;
        document.getElementById('accountType').innerText = accountType;

        // פונקציית Logout
        function logout() {
            localStorage.clear(); // ניקוי כל הנתונים מה-Local Storage
            alert('You have been logged out.');
            window.location.href = 'login.html'; // הפנייה לדף ההתחברות
        }
        let subMenu = document.getElementById("subMenu");
        function toggleMenu(){
        subMenu.classList.toggle("open-menu");
}

    </script>
</body>
</html>
